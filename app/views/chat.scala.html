@(socketURL: String)

<!DOCTYPE html>
<html>
  <head>
  </head>
  <body>
        <div id = 'socket' data-url = @socketURL></div>
        <div class="wrap">
            <div class="container-fluid">
                <div>
                    <h1 class="">Chat Room</h1>
                </div>

                <div class="row">
                    <div class="col-lg-12">
                        <ul id="messages" class="list-unstyled">
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer navbar-fixed-bottom">
            <div class="row">
                <div class="col-xs-8 col-sm-9">
                    <input id="message" placeholder="Type Here" type="text"
                      autofocus
                      autocomplete="off" spellcheck="false" autocorrect="off"
                      class="form-control input-lg" />
                </div>

                <div class="col-xs-4 col-sm-3">
                    <button id="send" type="submit" class="btn btn-primary btn-lg btn-block">Send</button>
                </div>
            </div>
        </div>
    <script type='text/javascript' src='@routes.Assets.versioned("javascripts/chat.js")'></script>
    <script type='text/javascript' src='@routes.Assets.versioned("javascripts/jquery.js")'></script>
    <script>
      $(document).ready(function(){
          url = $('#socket').attr('data-url')
          console.log(url)
          var connection = new WebSocket(url);
          var $messages = $("#messages"); 
          var $send = $("#send"); 
          var $message = $("#message"); 
          
          connection.onopen = function() {
                console.log("open")
                $send.on('click', function() {
                    connection.send("hi");
                    console.log("hi");
                });
            };
            connection.onmessage = function(event) {
                console.log(event.data);
            }
              // $send.prop("disabled", false);
              // $messages
              //     .prepend($("<li class='bg-info' style='font-size: 1.5em'>Connected</li>"));
              // $send.on('click', send);
              // $message.keypress(function(event) {
              //   var keycode = (event.keyCode ? event.keyCode : event.which);
              //   if (keycode == '13') {
              //     send();
              //   }
              // });
          
          
      })
      
    </script>
    </body>
</html>
